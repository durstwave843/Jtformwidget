<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>

    <!-- 1) Load the Widget API immediately -->
    <script src="https://js.jotform.com/JotFormCustomWidget.min.js"></script>

    <!-- 2) Wire up READY + SUBMIT in one clean block -->
    <script>
      // confirm our code is actually running
      console.log("🏁 widget HTML loaded");

      // fire as soon as JotForm sends the 'ready' event
      JFCustomWidget.subscribe("ready", function() {
        console.log("🔔 widget ready fired");

        // show "Working" in the UI
        document.getElementById("status").textContent = "Working";

        // listen for changes on the JotForm field named "typeA"
        JFCustomWidget.listenFromField("typeA", "change", function(value) {
          console.log("typeA selection →", value);
        });
      });

      // always send a valid response on submit
      JFCustomWidget.subscribe("submit", function() {
        console.log("🔔 widget submit fired");
        JFCustomWidget.sendSubmit({
          valid: true,
          value: ""  // or some static value if you want
        });
      });
    </script>
  </head>

  <body style="font-family: sans-serif; padding: 12px;">
    <div id="status">Loading…</div>
  </body>
</html>
